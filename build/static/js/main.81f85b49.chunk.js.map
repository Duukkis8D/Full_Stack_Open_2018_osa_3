{"version":3,"sources":["components/PersonsList.js","components/Filter.js","components/AddPerson.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonsList","props","persons","showAll","filter","person","name","toUpperCase","includes","search","react_default","a","createElement","map","key","phone","onClick","removePerson","id","Filter","value","onChange","handleSearch","AddPerson","newName","handleNameChange","newPhoneNumber","handlePhoneNumberChange","Notification","message","className","services_persons","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","concat","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","event","preventDefault","foundDuplicate","state","forEach","target","addPersonToServer","setState","setTimeout","personsService","newPerson","personID","personName","window","confirm","_this2","components_Notification","components_Filter","onSubmit","components_AddPerson","type","components_PersonsList","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.81f85b49.chunk.js","sourcesContent":["import React from 'react';\n\nconst PersonsList = (props) => {\n    const persons =\n        props.showAll ?\n            props.persons :\n            props.persons.filter(person => person.name.toUpperCase().includes(props.search.toUpperCase()));\n\n    return (\n        <table>\n            <thead><tr><th></th></tr></thead>\n            <tbody>\n                { persons.map(person => <tr key={person.name}>\n                                            <td key={person.name}>{person.name}</td>\n                                            <td key={person.phone}>{person.phone}</td>\n                                            <td>\n                                                <button onClick={props.removePerson(person.id, person.name)}>\n                                                    poista\n                                                </button>\n                                            </td>\n                                        </tr>) }\n            </tbody>\n        </table>\n    )\n};\n\nexport default PersonsList","import React from 'react';\n\nconst Filter = (props) => {\n    return (\n        <div>\n            rajaa näytettäviä: <input value={props.search} onChange={props.handleSearch}/>\n            <br></br>\n        </div>\n    );\n};\n\nexport default Filter","import React from 'react';\n\nconst AddPerson = (props) => {\n    return (\n        <div>\n            nimi: <input value={props.newName} onChange={props.handleNameChange}/>\n            numero: <input value={props.newPhoneNumber} onChange={props.handlePhoneNumberChange}/>\n        </div>\n    );\n};\n\nexport default AddPerson","import React from 'react';\n\nconst Notification = (props) => {\n    if (props.message === '') return <div></div>;\n\n    return (\n        <div className=\"notification\">{props.message}</div>\n    );\n};\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n};\n\nconst remove = (id) => {\n    axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default { getAll, create, remove }","import React from 'react';\nimport PersonsList from './components/PersonsList';\nimport Filter from './components/Filter';\nimport AddPerson from './components/AddPerson';\nimport Notification from './components/Notification';\nimport personsService from './services/persons';\nimport './css/App.css'\nimport './css/PersonsList.css';\nimport './css/Notification.css';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            persons: [],\n            newName: '',\n            newPhoneNumber: '',\n            search: '',\n            showAll: true,\n            message: ''\n        };\n    }\n\n    componentDidMount() {\n        personsService\n            .getAll()\n            .then(response => {\n                this.setState({ persons: response });\n            });\n    }\n\n    addPerson = (event) => {\n        event.preventDefault();\n\n        /* [0] vaaditaan targetissa:\n        https://forum.freecodecamp.org/t/getting-an-input-value-when-form-is-submitted-react/161870 */\n        let foundDuplicate = false;\n        this.state.persons.forEach(function(person) {\n            if (person.name === event.target[0].value || person.phone === event.target[1].value) {\n                foundDuplicate = true;\n            }\n        });\n\n        if (foundDuplicate === false) {\n            this.addPersonToServer(event);\n            this.setState({ message: `Lisättiin ${event.target[0].value}` });\n            setTimeout(() => {\n                this.setState({ message: '' });\n            }, 5000);\n        }\n    };\n\n    addPersonToServer = (event) => {\n        const person = {\n            name: event.target[0].value,\n            phone: event.target[1].value\n        };\n        personsService\n            .create(person)\n            .then(newPerson => {\n                this.setState({\n                    persons: this.state.persons.concat(newPerson),\n                    newName: '',\n                    newPhoneNumber: ''\n                });\n            });\n    };\n\n    removePerson = (personID, personName) => {\n        return () => {\n            if (window.confirm(`Poistetaanko ${personName} ?`)) {\n                personsService.remove(personID);\n                this.setState({\n                    persons: this.state.persons.filter(person => person.id !== personID),\n                    message: `Poistettiin ${personName}`\n                });\n                setTimeout(() => {\n                    this.setState({ message: '' });\n                }, 5000);\n            }\n        }\n    };\n\n    handleNameChange = (event) => {\n        this.setState({ newName: event.target.value });\n    };\n\n    handlePhoneNumberChange = (event) => {\n        this.setState({ newPhoneNumber: event.target.value });\n    };\n\n    handleSearch = (event) => {\n        this.setState({\n            search: event.target.value,\n            showAll: false\n        });\n        if (event.target.value === '') this.setState({ showAll: true })\n    };\n\n    render() {\n        return (\n            <div>\n                <h2>Puhelinluettelo</h2>\n                <Notification message={this.state.message}/>\n                <Filter search={this.state.search} handleSearch={this.handleSearch}/>\n                <form onSubmit={this.addPerson}>\n                    <AddPerson newName={this.state.newName}\n                               newPhoneNumber={this.state.newPhoneNumber}\n                               handleNameChange={this.handleNameChange}\n                               handlePhoneNumberChange={this.handlePhoneNumberChange}/>\n                    <div>\n                        <button type=\"submit\">lisää</button>\n                    </div>\n                </form>\n                <h2>Numerot</h2>\n                <PersonsList persons={this.state.persons}\n                             showAll={this.state.showAll}\n                             search={this.state.search}\n                             removePerson={this.removePerson}/>\n            </div>\n        )\n    }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}